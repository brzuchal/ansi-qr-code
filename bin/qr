#!/usr/bin/env php
<?php

declare(strict_types=1);

error_reporting(E_ALL & ~E_DEPRECATED & ~E_USER_DEPRECATED);

foreach ([__DIR__ . '/../../../autoload.php', __DIR__ . '/../vendor/autoload.php'] as $file) {
    if (file_exists($file)) {
        require $file;
        break;
    }
}

use Brzuchal\TerminalQr\TerminalQrCode;

if ($argc < 2) {
    echo "Usage: qr-code <text>" . PHP_EOL;
    echo "Example: qr-code 'https://github.com/brzuchal/ansi-qr-code'" . PHP_EOL;
    exit(1);
}

$text = implode(' ', array_slice($argv, 1));

$qr = new TerminalQrCode();
$qr->write($text);
